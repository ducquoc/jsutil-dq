<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="application/xhtml+xml; charset=UTF-8" />

<link rel="stylesheet" type="text/css" href="css/style.css"/>

<!--<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3/jquery.min.js"></script>-->
<script type="text/javascript" src="js/jquery.min.js"></script>
<script type="text/javascript">
if (!window.location.origin) window.location.origin = window.location.protocol+"//"+window.location.host;
var baseUrl = window.location.origin;
var uri = location.href; // alert ("Browsing web page of " + baseUrl);
var baseUri = uri.substring(0, uri.indexOf('/', window.location.protocol.length)) + "//";
</script>
<script type="text/javascript" src="js/treemap.js"></script>

</head>

<body>
  <div id='my-treemap'></div>
  <div id='data-box'></div>
  <div id='data-json'></div>

  <script>
    var jsonData = [ 
       { label : 'Proj1', value : 40, data : 'Proj1 data' }, 
       { label : 'Proj2', value : 80, data : 'Proj2 data' }, 
       { label : 'Proj3', value : 70, data : 'Proj3 data' }, 
       { label : 'Proj4', value : 60, data : 'Proj4 data' }, 
       { label : 'Proj5', value : 100, data : 'Proj5 data' },
       { label : 'Proj6', value : 50, data : 'Proj6 data' },
       { label : 'Proj7', value : 140, data : 'Proj7 data' },
       { label : 'Proj8', value : 75, data : 'Proj8 data' }
    ];

    $('div#my-treemap').treeMap(jsonData, {
      nodeClass : function(node, box) {
        if (node.value <= 60) return 'health-red';
        if (node.value > 90) return 'health-green';
        return 'health-yellow';
      },
      mouseenter : function(node, box) {
        $('#data-box').html('<p>Label: ' 
          + node.label + '</p><p>Data: '
          + node.data + '</p><p>Value: '
          + node.value + '</p>');
      }
    });

    $('div#data-json').html('<hr><i>'+JSON.stringify(jsonData)+"</i>");
    // TODO : let users update JSON on UI 
  </script>
</body>
</html>
